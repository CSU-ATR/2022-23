Decouple Fetch_data and send_command in PNAController

Rework PNAController